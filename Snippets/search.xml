<?xml version="1.0" encoding="utf-8"?>
<dictionary>
  <item>
    <key>
      <SnippetKey xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
        <Category>TimeZone_DaylightSavingsTime_UTC_GMT</Category>
        <Language>SQLSERVER2K SQL</Language>
        <Public>false</Public>
        <Name>function_GetOffsetValue_SQL_server_2016</Name>
        <Group>My Snippets</Group>
      </SnippetKey>
    </key>
    <value>
      <SnippetValue xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
        <Key>
          <Category>TimeZone_DaylightSavingsTime_UTC_GMT</Category>
          <Language>SQLSERVER2K SQL</Language>
          <Public>false</Public>
          <Name>function_GetOffsetValue_SQL_server_2016</Name>
          <Group>My Snippets</Group>
        </Key>
        <Keywords />
        <Imports />
        <Code>
https://stackoverflow.com/questions/33444328/t-sql-check-if-a-given-date-is-in-daylight-savings-or-not

Create Function GetOffsetValue( @dateToCheck DateTime2, @timeZoneId VarChar( 60 ) ) Returns Int
	As Begin
	    Return DatePart( TzOffset, @dateToCheck At Time Zone @timeZoneId ) --In minutes. Divide by 60 if more convenient
	End
	
--Examples:

Select dbo.GetOffsetValue( Convert( DateTime2, '2019-01-01 13:00:00' ), 'Pacific Standard Time' ) --  -480
Select dbo.GetOffsetValue( Convert( DateTime2, '2019-10-01 13:00:00' ), 'Pacific Standard Time' ) --  -420

--You can then check whether the value is -480 minutes (DST Off) or -420 minutes (DST On) and you can also use it for other purposes.</Code>
      </SnippetValue>
    </value>
  </item>
</dictionary>